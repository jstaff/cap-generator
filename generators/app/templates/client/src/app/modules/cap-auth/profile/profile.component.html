<div class="container register-form">
  <div class="form">
      <div class="header">
          <p>Profile</p>
      </div>
      <div class="form-content" *ngIf="user">
          <form [formGroup]="profileUserForm" (ngSubmit)="editProfile()">
              <div class="row">
                  <div class="col-md-6 mb-4">

                      <%if (authService === 'auth0') {%><div class="form-group">
                          <input type="text" class="form-control" placeholder="First name *" formControlName="name" />
                      </div>

                      <div class="form-group">
                          <input type="text" class="form-control" placeholder="Last name *"
                              formControlName="family_name" />
                      </div>

                      <div class="form-group">
                          <input type="text" class="form-control" placeholder="Nickname *"
                              formControlName="nickname" />
                      </div><%}%>


                      <%if (authService === 'firebase') {%><div class="form-group" >
                          <input  type="text"
                                  class="form-control"
                                  placeholder="Full name *"
                                  formControlName="displayName"/>
                        </div><%}%>

                      <div *ngIf="userUpdated" class="form-control-feeback mb-2 text-success text-center">
                          user updated successfully
                      </div>
                      <div *ngIf="errorUpdate" class="form-control-feeback mb-2 text-danger text-center">
                          Error updating information, try again later
                      </div>
                      <%if (authService === 'auth0') {%><button type="submit"
                              [disabled]="!(profileUserForm.get('name').dirty || profileUserForm.get('family_name').dirty || profileUserForm.get('nickname').dirty)"
                              class="btnSubmit">
                              Edit Profile
                      </button><%}%>

                      <%if (authService === 'firebase') {%><button type="submit"
                              [disabled]="!(profileUserForm.get('displayName').dirty)"
                              class="btnSubmit">
                              Edit Profile
                      </button><%}%>
                  </div>
                  <div class="col-md-6">
                      <div class="ml-5">

                          <%if (authService === 'auth0') {%><p> Email : {{user.email}}</p>
                          <p> First name : {{user.name}}</p>
                          <p> Last name : {{user.family_name}}</p>
                          <p> Nickname : {{user.nickname}} </p>
                          <p *ngIf="user.emailVerified"> Verified Email : Yes</p>
                          <p *ngIf="!user.emailVerified"> Verified Email : No</p>
                          <p> Creation Date: {{user.created_at | date:'medium'}}</p>
                          <p> Last SignIn : {{user.last_login | date:'medium'}}</p><%}%>
                          <%if (authService === 'firebase') {%><p> Email : {{user.email}}</p>
                          <p> Full name: {{user.displayName}}</p>
                          <p> Authentication Method: {{user.providerData[0].providerId}} </p>
                          <p> UID User: {{user.providerData[0].uid}} </p>
                          <p *ngIf="user.emailVerified"> Verified Email : Yes</p>
                          <p *ngIf="!user.emailVerified"> Verified Email : No</p>
                          <p> Creation Date: {{user.metadata.creationTime | date:'medium'}}</p>
                          <p> Last SignIn : {{user.metadata.lastSignInTime | date:'medium'}}</p><%}%>

                      </div>
                  </div>
              </div>
          </form>
      </div>
  </div>
</div>
